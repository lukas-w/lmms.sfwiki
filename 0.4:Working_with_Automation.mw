{{0.4:Working with AutomationTrans}}
{{msgbox:out of date|0.4}}

Automation is a powerful tool for customising the sound of your project. You can use it to do tasks as simple as automating a mixing desk (moving the volume levels up and down as the song progresses), or as complex as varying the sound of an instrument, its effects settings, and even the tempo of the entire song.  Almost any GUI control can be automated allowing for very powerful control of your song.

= Controls =

{| cellspacing="0" valign="top" align="center" width="100%"
| width="300px" valign="top"|
[[File:LMMS-controls.png|frame|left|alt=GUI controls.|GUI controls.]]
| valign="top"|
'''Controls''' are the knobs, sliders, LED toggle switches, and digital readouts that can be found on the GUIs within LMMS (see image at left). All controls on default LMMS GUIs can be automated, even option selector buttons and drop-down menus!
|}

= What can be Automated? =

The list of controls that can be automated is vast, as can be seen from the list in the [[Automation Editor#What_can_be_automated.3F|Automation Editor]] manual page. If you're unsure if a control can be automated, right-click on its icon and look for a context menu item called '''Edit song-global automation'''. If it's there, the item probably can be automated; however, in the case of instruments, only controls on the '''built-in LMMS instruments''' can be automated. You '''cannot''' automate any controls on third-party VST instruments, including '''zynAddSubFX''', even though it is included with LMMS.
<br>

= Song-global vs Automation tracks =

There are 2 ways to automate a control: Song-global automation and Automation tracks.

== Song-global automation ==
'''Song-global automation''' is a way to automate a control directly without using an automation track. You right-click a control and select '''Edit song-global automation'''. The Automation Editor will open and allow you to automate the control. For Song-global automation, the bar numbers shown in the Automation Editor window are the same as the bar numbers of the song starting at bar #1. If you want to automate a change for this control at bar #7 in the song, you do that at bar #7 in the Automation Editor. When you close the Automation Editor window, you have '''no''' indicators that this control has any automated actions attached. This is '''not''' the recommended way to automate a control.

== Automation Tracks ==
'''Automation Tracks''' are specialized tracks you can add to the Song-Editor. You can create blocks in the automation tracks, the same as you would in an instrument track. Then, you can '''connect''' (bind) controls to blocks within the automation track (explained below). You double-click a block that has a connected control, and it will open in the Automation Editor. Unlike Song-global automation, the bar numbers shown in the Automation Editor do '''not''' correspond to the bar numbers in the song. Instead, they are relative to the automation block's start position in the track. For example, if an automation block begins at bar #4 in the song, then bar #1 in the Automation Editor corresponds to bar #4 in the song. Furthermore, when you close the Automation Editor window, you have indicators in the automation track block that this control has automated actions attached. This is the '''recommended''' way to automate a control. It's good practice to keep the Automation Tracks adjacent (in the stacking order) to the Song-Editor tracks where the automated control is located--this helps to keep you organised.

The '''Beat+Bassline Editor''' supports Automation Tracks independently of the Song-Editor. However, it is very difficult to find any predictable correlation between the beat step timeline and the bar timeline in the Automation Track Editor when editing automation tracks located in the Beat+Bassline Editor. In simple terms, this means you'll find it very difficult to coordinate the automation graph with the beats. The recommended way to automate Beat/Bassline tracks is to use Song-Editor automation tracks.

= Song Editor Automation Tracks =

It's best to manage automations using Automation Tracks in the [[Song Editor]]. You can add an Automation Track in the Song-Editor by clicking the "Add automation-track" button. Then, just like an instrument track, you can add an empty block to a bar by clicking in an empty bar in the track. [[File:LMMS-auto-editor.png|frame|right|alt=Automation tracks & editor.|Automation tracks & editor.]] Then, to automate a control using your new automation track, '''Ctrl+drag''' the icon of an automatable control into a bar or block in the new automation track. If you have an automation block that already contains 1 or more controls, when you Ctrl+drag another control into the block, the second control becomes controlled by that automation block, too. You can also Ctrl+drag a different control into a different bar or block of the same automation track. This means that you can:
* automate multiple controls simultaneously in the same block of a track, and 
* automate multiple controls sequentially in different blocks of the same track.
For a specific block in an automation track, you can list the controls it automates by right-clicking the block in the Song-Editor; the '''Connections''' (connected controls) will be listed at the bottom. The "Connections" context menu item gives you the option to release (disconnect) a connected control from that automation block.

To edit the automation within a block, double-click on the automation track block to open it in the [[Automation Editor]]. Just like other blocks in the Song-Editor, the right-click context menu offers delete, cut, copy, paste, mute/unmute, clear, and rename. Using the mouse, you can move (drag) and lengthen/shorten the duration (drag 2-headed arrow) of an Automation block. The image to the right is an example of 2 automation tracks below an instrument track. The 1st automation track fades-in the volume from zero, holds it steady a while, then fades back down to zero. The 2nd automation track is opened in the Automation Editor, and shows an automation of stereo panning from full left, to full right, to full left, then back to center.

= Automation Examples =

== Fading in ==

The most common and simplest use for Automation is in fading an instrument in at the start of the performance, so it doesn't dominate the piece when it enters.  This is accomplished by automating the volume control of the instrument in the Song Editor.

The first thing you will find out is that automation is always measured from the start of the song, regardless of where the instrument track has its first segment.  So if you have the first bar of piano roll in the instrument track appearing in bar 33, you will need to start fading the instrument in at bar 33 rather than bar 1.

The second thing you will find out is that a fade in will usually last for many bars, and it's easier to draw a diagonal line of that length when the horizontal scale (http://tangram.dnsalias.net/lmms-imgs/lmms-0.3.1/automation-toolbar-horizzoom-100.png) is reduced to about 25%.

The third thing you will find out is that having lots of control points is unnecessary for volume, as people are not very sensitive to small changes in volume.  In addition, having more control points means more editing later if you change your mind.  Set the quantisation control (http://tangram.dnsalias.net/lmms-imgs/lmms-0.3.1/automation-toolbar-quantise-16.png) to around 1/2 or 1/4 and you can still get a relatively even line without having a lot of unnecessary control points if you want to change it later.

For example, in this piece:

<center>
http://tangram.dnsalias.net/lmms-imgs/lmms-0.3.1/automation-howto-fadein-songeditor.png
</center>

The automation on the first Moog track's Volume control looks like this:

<center>
http://tangram.dnsalias.net/lmms-imgs/lmms-0.3.1/automation-howto-fadein-automation.png
</center>

Note the time ruler's position - the fade in starts at around bar 41, when the first notes occur.

== Adding expression ==

By automating the master tempo control to get slower (a ''rallentando'') as you approach the end of a phrase and then resume its pace immediately after, you give your piece expression - as if a live piano player were emphasising that section.  This looks somewhat like a single 'negative' sawtooth taken out of the automation, such as

<center>
http://tangram.dnsalias.net/lmms-imgs/lmms-0.3.1/automation-howto-rallentando-short.png
</center>

== Eighties acid effects ==

The [http://en.wikipedia.org/wiki/Acid_house Acid House] and [http://en.wikipedia.org/wiki/Acid_trance Acid Trance] movements were famous for using the Roland TB303 to play a repetitive melody and varying the filter cutoff frequency and other envelope parameters to change the sound through the entire piece.  Because of the repetitive nature of the melody it is tempting to use a bassline to store the melody, but the automation in the Beat / Bassline Editor only goes for as long as the pattern - therefore, the automation you put in will repeat itself every time the pattern repeats, rather than continuously changing.

First, create a new track with any instrument, put a bar of repetitive notes in it, and then copy that to create sixteen bars (I copy that bar in the piano roll and paste it three times to create a four-bar phrase, and then copy that segment in the song editor to get four four-bar segments).  Then open the instrument's plugin and select the Envelope/LFO/Filter tab:

<center>
http://tangram.dnsalias.net/lmms-imgs/lmms-0.3.1/instrument-std-env-volume.png
</center>

Turn on the Filter section, set the filter type to Moog, and make sure that the LFO amount is set to zero.  

<center>
http://tangram.dnsalias.net/lmms-imgs/lmms-0.3.1/automation-howto-acid-1-filter-pointers.png
</center>

Then right-click on the filter's '''Cutoff''' control and automate it:

<center>
http://tangram.dnsalias.net/lmms-imgs/lmms-0.3.1/automation-howto-acid-1-automation.png
</center>

You can draw various shapes - blocks, rising and falling curves, sawteeth and jumps.
It can be difficult to draw with the mouse. Since .4.4 sh+leftMouse Clicking will create strait connected lines. Use this to make slow fine linear gradual changes.

http://tangram.dnsalias.net/lmms-imgs/sounds/automation-howto-acid-1.ogg

The project file can be downloaded here:

http://tangram.dnsalias.net/lmms-imgs/sounds/automation-howto-acid-1.mmpz

It is worth noting here that the frequency of control points changes the sound.  At bar 17 there are four upward sweeps with the quantisation set to 1/16, and then from bar 21 there are four downward sweeps with the quantisation set to 1/32 (i.e. twice as many control points).  The changes to the filter cutoff do not happen in an analog fashion, like someone turning a knob - they happen digitally and jump instantly between settings.  This means that you can hear the changes in frequency as distinct steps - the four upward sweeps may sound a little stuttery or jerky and the downward sweeps may sound smoother.  For fine control you may even want to use 1/64th quantisation.  However, since it is more difficult to get a truly even curve or line by drawing, the downside to this approach may be that your own inaccuracies in drawing the control points become audible and are harder to edit out.

== Sounds flying past ==

In one song I wrote I had a series of stacatto claps in a pattern and I want them to fly from right to left, like a drive-by shooting.  I automated the pan control (i.e. the X direction) of the instrument in the beat-bassline editor:

<center>
http://tangram.dnsalias.net/lmms-imgs/lmms-0.3.1/automation-howto-flyby-1.png
</center>

I then created a diagonal line from pan-right (+1024 at top) to pan-left (-1024 at bottom):

<center>
http://tangram.dnsalias.net/lmms-imgs/lmms-0.3.1/automation-howto-flyby-2.png
</center>

And now the sound 'flies' past from right to left!

http://tangram.dnsalias.net/lmms-imgs/sounds/automation-howto-flyby.ogg

Notice that the sound 'resets' to the right after each bar, because the pattern is only one bar long.  If I wanted another set of claps that flew in the other direction, I have a couple of options:

* I can create a second pattern that has automation taking it from left to right and alternate the patterns in the song.  This means that you have a second track, which may be inconvenient.
* I can add a second bar of notes (via the pattern's context menu '''Add Steps''' option) and then have the automation return to the right.  This would limit me to having the claps return immediately after they left, which may not work in the piece.

You can download this as an MMPZ file from

http://tangram.dnsalias.net/lmms-imgs/sounds/automation-howto-flyby.mmpz

= When not to use Automation =

Alhough Automation gives you great power and flexibility, there are times when it is overkill and times when there are easier ways to achieve your goal.
* Automation currently lacks any tools to make regular shapes such as sine waves. Drawing sine waves by dragging your mouse can be quite difficult, especially over a long period of bars. Instead, you can use an LFO, either in the instrument plugin or as an effect.
* Automation can be applied to change the characteristics of each note individually. For example, to have a note gradually fade away or gradually introduce vibrato, but it is tedious to do this to every note.  The LFO settings in the instrument plugin's Env/LFO section allow you to set the attack rate of the LFO to gradually fade-in vibrato, and the envelope can be set to give a long decay time.

= Navigation =

Reference: [[0.4:Automation Editor|Automation Editor]]

{| style="border: 1px solid black;"
|-
| Prev: [[0.4:Putting the song together|Putting the song together]]
| Up: [[0.4:Manual]]
| Next: [[0.4:Working with LADSPA effects|Working with LADSPA effects]]
|}

[[Category:HowTo]] [[Category:Incomplete]]
[[Category:0.4-Manual]]
